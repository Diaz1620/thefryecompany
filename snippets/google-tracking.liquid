<!-- START Google Ads Dynamic Remarketing for Theme.Liquid -->
<script async src="https://www.googletagmanager.com/gtag/js?id=AW-1070749019"></script>
<script>
window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'AW-1070749019', { 'allow_enhanced_conversions': true});

{% if template contains 'collection' %}
// Collection Page
// {{ collection.all_products.first.variants.first.sku }}
// {{ collection.all_products.first.id }}
// {{ collection.all_products.first.variants.first.id }}
gtag('event', 'view_item_list', {
 'ecomm_prodid': [{%- comment %}<locksmith:7473>{% endcomment -%}{%- assign locksmith_afc8_forloop__size = 0 %}{% for item in collection.all_products %}{% capture var %}{% render 'locksmith-variables', scope: 'subject', subject: item, subject_parent: collection, variable: 'transparent' %}{% endcapture %}{% if var == 'true' %}{% assign locksmith_afc8_forloop__size = locksmith_afc8_forloop__size | plus: 1 %}{% endif %}{% endfor %}{% assign locksmith_afc8_forloop__index = nil -%}{%- comment %}</locksmith:7473>{% endcomment -%}{% for item in collection.all_products %}{%- comment %}<locksmith:ab86>{% endcomment -%}{%- capture var %}{% render 'locksmith-variables', scope: 'subject', subject: item, subject_parent: collection, variable: 'transparent' %}{% endcapture %}{% if var == "true" %}{% if locksmith_afc8_forloop__index == nil %}{% assign locksmith_afc8_forloop__index = 1 %}{% assign locksmith_afc8_forloop__index0 = 0 %}{% else %}{% assign locksmith_afc8_forloop__index = locksmith_afc8_forloop__index | plus: 1 %}{% assign locksmith_afc8_forloop__index0 = locksmith_afc8_forloop__index0 | plus: 1 %}{% endif %}{% if locksmith_afc8_forloop__index == 1 %}{% assign locksmith_afc8_forloop__first = true %}{% else %}{% assign locksmith_afc8_forloop__first = false %}{% endif %}{% if locksmith_afc8_forloop__index == locksmith_afc8_forloop__size %}{% assign locksmith_afc8_forloop__last = true %}{% else %}{% assign locksmith_afc8_forloop__last = false %}{% endif %}{% assign locksmith_afc8_forloop__rindex = locksmith_afc8_forloop__size | minus: locksmith_afc8_forloop__index | minus: 1 %}{% assign locksmith_afc8_forloop__rindex0 = locksmith_afc8_forloop__size | minus: locksmith_afc8_forloop__index0 | minus: 1 %}{% else %}{% continue %}{% endif -%}{%- comment %}</locksmith:ab86>{% endcomment -%}'{{ item.id }}'{% if locksmith_afc8_forloop__last != true %},{% endif %}{% endfor %}],
 'ecomm_pagetype': 'category',
 'ecomm_totalvalue': {{ collection.all_products.first.price_min | money_without_currency | remove: ',' }}
});

{% elsif template contains 'product' %}
// Product Page
// {{ product.variants.first.sku }}
// {{ product.id }}
// {{ product.variants.first.id }}
gtag('event', 'view_item', {
 'ecomm_prodid': ['{{ product.id }}'],
 'ecomm_pagetype': 'product',
 'ecomm_totalvalue': {{ product.price_min | money_without_currency | remove: ',' }}
});

{% elsif template contains 'cart' %}
// Cart Page
// {{ item.variant.sku }}
// {{ item.id }}
// {{ item.variant_id }}
gtag('event', 'add_to_cart', {
 'ecomm_prodid': [{% for item in cart.items %}'{{ item.id }}'{% if forloop.last != true %},{% endif %}{% endfor %}],
 'ecomm_pagetype': 'cart',
 'ecomm_totalvalue': {{ cart.total_price | money_without_currency | remove: ',' }}
});

{% elsif template contains 'search' %}
// Search Page
gtag('event', 'view_search_results', {
 'ecomm_prodid': [{%- comment %}<locksmith:2515>{% endcomment -%}{%- assign locksmith_76a0_forloop__size = 0 %}{% for item in search.results %}{% capture var %}{% render 'locksmith-variables', scope: 'subject', subject: item, subject_parent: search, variable: 'transparent' %}{% endcapture %}{% if var == 'true' %}{% assign locksmith_76a0_forloop__size = locksmith_76a0_forloop__size | plus: 1 %}{% endif %}{% endfor %}{% assign locksmith_76a0_forloop__index = nil -%}{%- comment %}</locksmith:2515>{% endcomment -%}{% for item in search.results %}{%- comment %}<locksmith:ac7f>{% endcomment -%}{%- capture var %}{% render 'locksmith-variables', scope: 'subject', subject: item, subject_parent: search, variable: 'transparent' %}{% endcapture %}{% if var == "true" %}{% if locksmith_76a0_forloop__index == nil %}{% assign locksmith_76a0_forloop__index = 1 %}{% assign locksmith_76a0_forloop__index0 = 0 %}{% else %}{% assign locksmith_76a0_forloop__index = locksmith_76a0_forloop__index | plus: 1 %}{% assign locksmith_76a0_forloop__index0 = locksmith_76a0_forloop__index0 | plus: 1 %}{% endif %}{% if locksmith_76a0_forloop__index == 1 %}{% assign locksmith_76a0_forloop__first = true %}{% else %}{% assign locksmith_76a0_forloop__first = false %}{% endif %}{% if locksmith_76a0_forloop__index == locksmith_76a0_forloop__size %}{% assign locksmith_76a0_forloop__last = true %}{% else %}{% assign locksmith_76a0_forloop__last = false %}{% endif %}{% assign locksmith_76a0_forloop__rindex = locksmith_76a0_forloop__size | minus: locksmith_76a0_forloop__index | minus: 1 %}{% assign locksmith_76a0_forloop__rindex0 = locksmith_76a0_forloop__size | minus: locksmith_76a0_forloop__index0 | minus: 1 %}{% else %}{% continue %}{% endif -%}{%- comment %}</locksmith:ac7f>{% endcomment -%}'{{ item.id }}'{% if locksmith_76a0_forloop__last != true %},{% endif %}{% endfor %}],
 'ecomm_pagetype': 'searchresults'
});

{% elsif template contains 'index' %}
// Home Page
gtag('event', 'page_view', {
 'ecomm_pagetype': 'home'
});

{% else %}
// Other Page
gtag('event', 'page_view', {
 'ecomm_pagetype': 'other'
});
{% endif %}
</script>
<!-- END Google Ads Dynamic Remarketing for Theme.liquid -->